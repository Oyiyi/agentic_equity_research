# # config.yaml
version: "1.0"

inputs:
  source_report:
    provider: "Morgan Stanley"
    type: "equity_research_pdf"
    file: "Modified-TSLA-Report 2.pdf"
    report_date: "2026-01-10"
    ticker: "TSLA"
    industry: "Autos & Auto Parts"  # Industry sector for the company

  analyst_analysis:
    # Analysis paragraph configuration
    num_paragraphs: 4  # Number of analysis paragraphs (changed from 3 to 4)
    paragraph_length:
      min_words_per_paragraph: 72  # Minimum words per paragraph (60 * 1.2)
      max_words_per_paragraph: 120  # Maximum words per paragraph (100 * 1.2)
      target_words_per_paragraph: 96  # Target words per paragraph (80 * 1.2)
      min_chars_per_paragraph: 480  # Minimum characters per paragraph (400 * 1.2)
      max_chars_per_paragraph: 720  # Maximum characters per paragraph (600 * 1.2)
      target_chars_per_paragraph: 600  # Target characters per paragraph (500 * 1.2)
    paragraph_topics:
      - "Context and key observations about recent performance/events"
      - "Deep dive into financial fundamentals and trends"
      - "Investment thesis and recommendation rationale"
      - "Risk assessment and market outlook"  # New 4th paragraph
    
    # Key points configuration (used for headline generation)
    key_points:
      num_points: 3  # Number of key points to generate
      length_multiplier: 1.75  # Make key points 1.5-2x longer (1.75 = average)
      prompt: |
        Generate 3 concise but descriptive key points that capture the most important investment insights.
        Each key point should be 1.5 to 2 times longer than typical bullet points, providing enough detail
        to be meaningful when combined into a headline. Focus on:
        - Financial performance highlights (margins, growth rates, profitability trends)
        - Key business drivers or headwinds
        - Investment thesis summary points
        Each point should be a complete phrase or short sentence (not just keywords), typically 8-15 words.
        Examples of good key points:
        - "Stable performance with consistent net and EBITDA margins despite market volatility"
        - "Sluggish revenue growth rate raises concerns about near-term expansion prospects"
        - "Strong cash generation and balance sheet position support dividend sustainability"

  author_section:
    heading_label: "Morgan Stanley Research Analysts"
    layout: "stacked"
    show_legal_entity: true

    analysts:
      - name: "Michael Johnson"
        role: "Lead Equity Analyst"
        phone: "+1-212-555-4123"
        email: "michael.johnson@ms-research-demo.com"

      - name: "Emily Chen"
        role: "Equity Research Analyst"
        phone: "+1-212-555-6384"
        email: "emily.chen@ms-research-demo.com"

      - name: "David Miller"
        role: "Associate Analyst"
        phone: "+1-212-555-5479"
        email: "david.miller@ms-research-demo.com"

    legal_entity:
      name: "Morgan Stanley & Co. LLC"
      disclosure_required: true
      address:
        line1: "1585 Broadway"
        city: "New York"
        state: "NY"
        postal_code: "10036"
        country: "United States"

    typography:
      name_font:
        family: "MSGloriolaIIStd"
        weight: 500
        size_pt: 9
        color: "#111111"
      role_font:
        family: "MSGloriolaIIStd"
        weight: 400
        size_pt: 8.5
        color: "#4A4A4A"
      contact_font:
        family: "Roboto"
        weight: 300
        size_pt: 8
        color: "#7A7A7A"

    spacing:
      analyst_block_margin_pt: 6
      line_spacing: 1.25



brand:
  name: "Morgan Stanley"
  # Colors approximated from the MS PDF’s visible accent palette (dominant blues + neutral greys).
  # If you need exact brand-legal values, provide MS brand guidelines.
  colors:
    primary:
      name: "MS Blue"
      hex: "#0060A0"
      rgb: [0, 96, 160]
    secondary:
      name: "Light Blue"
      hex: "#1090D0"
      rgb: [16, 144, 208]
    accent:
      name: "Warm Gold"
      hex: "#D0B060"
      rgb: [208, 176, 96]
    neutrals:
      black:
        hex: "#111111"
      dark_grey:
        hex: "#4A4A4A"
      mid_grey:
        hex: "#7A7A7A"
      light_grey:
        hex: "#E6E6E6"
      white:
        hex: "#FFFFFF"

typography:
  # Fonts detected from the MS PDF’s embedded fonts.
  # Provide fallbacks in case the exact fonts aren’t available in the render environment.
  primary_family:
    name: "MSGloriolaIIStd"
    fallbacks: ["Georgia", "Times New Roman", "serif"]
  secondary_family:
    name: "Roboto"
    fallbacks: ["Arial", "Helvetica", "sans-serif"]

  scale:
    h1:
      font_family: "MSGloriolaIIStd"
      font_weight: 300   # Light
      font_size_pt: 24
      line_height: 1.15
      color: "#111111"
    h2:
      font_family: "MSGloriolaIIStd"
      font_weight: 500   # Medium
      font_size_pt: 14
      line_height: 1.2
      color: "#111111"
    body:
      font_family: "MSGloriolaIIStd"
      font_weight: 400
      font_size_pt: 9
      line_height: 1.35
      color: "#111111"
    caption:
      font_family: "Roboto"
      font_weight: 300
      font_size_pt: 8
      line_height: 1.25
      color: "#4A4A4A"

layout:
  page:
    size: "LETTER"
    orientation: "portrait"
    margins_in: { top: 0.6, right: 0.65, bottom: 0.6, left: 0.65 }
    grid:
      columns: 2
      gutter_in: 0.35

  header:
    show: true
    left_text: "Morgan Stanley | Research"
    logo_path: "front/figs/logo.png"
    right_text: "North America Equity Research"
    right_text_color: "#0060A0"  # MS Blue
    report_date_font_size_pt: 7
    report_date_color: "#111111"  # Black
    font_family: "Roboto"
    font_size_pt: 8
    color: "#4A4A4A"
    divider:
      show: true
      thickness_pt: 0.75
      color: "#E6E6E6"

  footer:
    show: true
    left_text_template: "{provider} Research"
    right_text_template: "{page_number}"
    font_family: "Roboto"
    font_size_pt: 7
    color: "#7A7A7A"

components:
  title_block:
    title: ""  # If empty, will use company_name + report_title from res_data
    title_font: { family: "MSGloriolaIIStd", weight: 300, size_pt: 24, color: "#111111" }
    subtitle_font: { family: "MSGloriolaIIStd", weight: 500, size_pt: 12, color: "#4A4A4A" }
    meta_font: { family: "Roboto", weight: 300, size_pt: 8, color: "#7A7A7A" }
    meta_fields:
      - "report_date"
      - "provider"
      - "analyst_names"
  
  section_titles:
    core_insights: "Core Insights"
    risk_assessment: "Risk Assessment"
    financial_data: "Financial Data"
    company_data: "Company Data"
    key_metrics: "Key Metrics"
    income_statement: "Income Statement"
    balance_sheet: "Balance Sheet"
    cash_flow: "Cash Flow Statement"
    performance: "Performance"
    price_performance: "Price Performance"
    pe_eps: "PE & EPS"
    revenue: "Revenue Performance"
    author: "Authors"

  section_heading:
    rule:
      show: true
      thickness_pt: 1.0
      color: "#E6E6E6"
    text:
      font_family: "MSGloriolaIIStd"
      font_weight: 500
      font_size_pt: 14
      color: "#111111"

  chart_style:
    palette:
      - "#0060A0"
      - "#1090D0"
      - "#D0B060"
      - "#4A4A4A"
      - "#7A7A7A"
    axis:
      font_family: "Roboto"
      font_size_pt: 8
      color: "#4A4A4A"
    gridlines:
      color: "#E6E6E6"
      thickness_pt: 0.5
    legend:
      font_family: "Roboto"
      font_size_pt: 8
      color: "#4A4A4A"

  report_graph_palette:
    base:
      background: "#FFFFFF"
      grid: "#E6E6E6"
      axis: "#333333"
      text_primary: "#111111"
      text_secondary: "#666666"

    series:
      stock:
        name: "Stock"
        color: "#1F77B4"      # Blue for stock line
        linestyle: "-"
        linewidth: 3
      
      benchmark:
        name: "Benchmark / Index"
        color: "#D4A32F"      # Golden yellow for benchmark/index
        linestyle: "-"
        linewidth: 2.2

      exposure:
        name: "AI Exposure"
        color: "#D4A32F"      # mustard gold
        linestyle: "-"
        linewidth: 2.2

      materiality:
        name: "AI Materiality"
        color: "#2CB1A1"      # teal green
        linestyle: "-"
        linewidth: 2.2

    classification:
      positive:
        color: "#2CB1A1"      # Core / Significant
      moderate:
        color: "#8FD3C7"
      negative:
        color: "#C84C5A"      # Disrupted / Downside
      unknown:
        color: "#BDBDBD"

    bar_chart:
      primary: "#1F77B4"
      secondary: "#2CB1A1"
      contrast: "#D4A32F"

    annotations:
      upside_arrow: "#2CB1A1"
      downside_arrow: "#C84C5A"
      divider: "#CCCCCC"

  table_style:
    header:
      fill: "#0060A0"
      text_color: "#FFFFFF"
      font_family: "Roboto"
      font_weight: 700
      font_size_pt: 8
    body:
      font_family: "Roboto"
      font_weight: 300
      font_size_pt: 8
      text_color: "#111111"
      zebra_stripes: true
      stripe_fill: "#F5F5F5"
    borders:
      color: "#E6E6E6"
      thickness_pt: 0.5

render:
  output_name_template: "{ticker}_MS-styled_{report_date}.pdf"
  preserve_source_content: true
  rewrite_headings_to_style: true
  normalize_tables: true
  normalize_charts: true
